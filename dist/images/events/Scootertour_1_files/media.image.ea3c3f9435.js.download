define("@ta/media.image",["@ta/common.global"],function(e){return function(e){var t={};function r(n){if(t[n])return t[n].exports;var o=t[n]={i:n,l:!1,exports:{}};return e[n].call(o.exports,o,o.exports,r),o.l=!0,o.exports}return r.m=e,r.c=t,r.d=function(e,t,n){r.o(e,t)||Object.defineProperty(e,t,{enumerable:!0,get:n})},r.r=function(e){"undefined"!=typeof Symbol&&Symbol.toStringTag&&Object.defineProperty(e,Symbol.toStringTag,{value:"Module"}),Object.defineProperty(e,"__esModule",{value:!0})},r.t=function(e,t){if(1&t&&(e=r(e)),8&t)return e;if(4&t&&"object"==typeof e&&e&&e.__esModule)return e;var n=Object.create(null);if(r.r(n),Object.defineProperty(n,"default",{enumerable:!0,value:e}),2&t&&"string"!=typeof e)for(var o in e)r.d(n,o,function(t){return e[t]}.bind(null,o));return n},r.n=function(e){var t=e&&e.__esModule?function(){return e.default}:function(){return e};return r.d(t,"a",t),t},r.o=function(e,t){return Object.prototype.hasOwnProperty.call(e,t)},r.p="/components/dist/",r(r.s="./packages/media/image/image.jsx")}({"./node_modules/react/index.js":function(e,t,r){e.exports=r("dll-reference @ta/common.global")("./node_modules/react/index.js")},"./packages/common/classnames/classnames.jsx":function(e,t,r){"use strict";r.d(t,"a",function(){return o}),r.d(t,"b",function(){return i});var n="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(e){return typeof e}:function(e){return e&&"function"==typeof Symbol&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e};function o(){for(var e=[],t=arguments.length,r=Array(t),i=0;i<t;i++)r[i]=arguments[i];for(var a=function(t){var i=r[t];if(i){var a=void 0===i?"undefined":n(i);"string"===a||"number"===a?e.push(i):Array.isArray(i)?e.push(o.apply(void 0,function(e){if(Array.isArray(e)){for(var t=0,r=Array(e.length);t<e.length;t++)r[t]=e[t];return r}return Array.from(e)}(i))):"object"===a&&Object.keys(i).filter(function(e){return i[e]}).forEach(function(t){return e.push(t)})}},s=0;s<r.length;s++)a(s);return e.join(" ")}function i(e,t,r){var n=e.split(" ").filter(function(e){return e!==t});return r&&n.push(r),n}},"./packages/common/features/features.jsx":function(e,t,r){e.exports=r("dll-reference @ta/common.global")("./packages/common/features/features.jsx")},"./packages/common/is-visible/is-visible.jsx":function(e,t,r){e.exports=r("dll-reference @ta/common.global")("./packages/common/is-visible/is-visible.jsx")},"./packages/common/logging/logging.jsx":function(e,t,r){e.exports=r("dll-reference @ta/common.global")("./packages/common/logging/logging.jsx")},"./packages/media/image/ResponsiveImage.less":function(e,t,r){e.exports={default:"media-image-ResponsiveImage__default--y19cT",findResponsiveImage:"media-image-ResponsiveImage__findResponsiveImage--3bK3S"}},"./packages/media/image/image.jsx":function(e,t,r){"use strict";r.r(t);var n=r("./node_modules/react/index.js"),o=r("./packages/common/classnames/classnames.jsx"),i=r("./packages/common/features/features.jsx"),a=r("./packages/common/is-visible/is-visible.jsx"),s=r("./packages/common/logging/logging.jsx"),c=r.n(s),u=r("./packages/media/image/ResponsiveImage.less"),l=r.n(u),f=Object.assign||function(e){for(var t=1;t<arguments.length;t++){var r=arguments[t];for(var n in r)Object.prototype.hasOwnProperty.call(r,n)&&(e[n]=r[n])}return e},d=function(){function e(e,t){for(var r=0;r<t.length;r++){var n=t[r];n.enumerable=n.enumerable||!1,n.configurable=!0,"value"in n&&(n.writable=!0),Object.defineProperty(e,n.key,n)}}return function(t,r,n){return r&&e(t.prototype,r),n&&e(t,n),t}}();function p(e,t){if(!e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return!t||"object"!=typeof t&&"function"!=typeof t?e:t}var h=function(){var e=1.5;return"undefined"!=typeof window&&window.devicePixelRatio&&(e=Math.min(window.devicePixelRatio,1.5)),e},g=function(e,t,r,n){var o=n||.25,i=h(),a=t*i,s=e*i,u=a*s,l=r.filter(function(e){return e.width<=2560});if(0===l.length){var f=r.length>0&&(!r[0].width||!r[0].height);return c.a.error("ResponsiveImage: no suitable source found. sources.length "+r.length+" missingWidthHeight "+f.toString()),{url:"",width:0,height:0}}var d=l.map(function(e){var t=(s-e.width)/e.width,r=(a-e.height)/e.height,n=Math.max(t,r),o=e.width*e.height;return{src:e,stretchRatio:n,wastedRatio:(o-u)/o}});d.sort(function(e,t){return e.wastedRatio-t.wastedRatio});var p=d.filter(function(e){return e.src.width*e.src.height<=4e4}).filter(function(e){return e.stretchRatio<=0});if(p.length>0){var g=p[0].src;return{url:g.url,width:g.width,height:g.height}}var m=d.filter(function(e){return e.stretchRatio<=o});if(m.length>0){var v=m[0].src;return{url:v.url,width:v.width,height:v.height}}d.sort(function(e,t){return e.stretchRatio-t.stretchRatio});var b=d[0].src;return{url:b.url,width:b.width,height:b.height}},m=function(e,t){var r=Math.floor(e/t)*t,n=Math.ceil(e/t)*t,o=0===r?0:(e-r)/r;return 0===o||o>.25?n:r},v=function(e,t,r,n){var o=h(),i="",a=0,s=0,c=void 0;r.forEach(function(e){(!c||e.width>c.width)&&(c=e),e.url.indexOf("/photo-o/")>-1?(i=e.url,a=e.width,s=e.height):e.url.indexOf("/photo-m/")>-1&&(i=e.url.replace("/photo-m/1280/","/photo-o/"),a=e.width,s=e.height)}),""===i&&c&&(i=c.url,a=c.width,s=c.height);var u=m(e*o,50),l=m(t*o,50);u>a&&(u=a),l>s&&(l=s);var f=a/s,d=e/t;return(Math.abs(f-d)/d<.1||"cover"!==n)&&(l=Math.ceil(u*s/a)),{url:"https://io-tacdn-com.global.ssl.fastly.net"+i.substring(i.indexOf("/media/"))+"?width="+u+"&height="+l+"&fit=crop&auto=webp",width:u,height:l}},b=function(e){function t(){var e,r,o;!function(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}(this,t);for(var a=arguments.length,s=Array(a),c=0;c<a;c++)s[c]=arguments[c];return r=o=p(this,(e=t.__proto__||Object.getPrototypeOf(t)).call.apply(e,[this].concat(s))),o.state={drawable:!!o.props.ssrContainerDimensions},o.containerNode=n.createRef(),o.pickImage=function(){var e=o.containerNode.current;if(!e){if(!o.props.ssrContainerDimensions)return null;e=o.props.ssrContainerDimensions}var t=e,r=t.clientWidth,n=t.clientHeight;if(0===n||0===r)return null;var a=[].concat(function(e){if(Array.isArray(e)){for(var t=0,r=Array(e.length);t<e.length;t++)r[t]=e[t];return r}return Array.from(e)}(o.props.sources));if(!a||0===a.length)return null;var s=void 0;return s=Object(i.featureIsEnabled)("media991_fastly_ondemand_resizing")?v(r,n,a,o.props.fitStrategy):g(r,n,a,o.props.allowedStretch),"function"==typeof o.props.onImageChosen&&o.props.onImageChosen(s.url),s},o.drawable=function(){o.setState({drawable:!0})},p(o,r)}return function(e,t){if("function"!=typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function, not "+typeof t);e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,enumerable:!1,writable:!0,configurable:!0}}),t&&(Object.setPrototypeOf?Object.setPrototypeOf(e,t):e.__proto__=t)}(t,n["Component"]),d(t,[{key:"componentDidMount",value:function(){this.props.notLazy&&!this.state.drawable&&this.setState({drawable:!0})}},{key:"render",value:function(){var e=this.state.drawable?this.pickImage():null,t=e&&"string"==typeof e.url?'url("'+e.url+'")':"none",r=this.props,s=r.children,c=r.fitStrategy,u=r.height,d=r.width,p=r.padding,h=r.borderRadius,g=r.transform,m=r.opacity,v=r.threshold,b=r.backgroundColor,y=r.customFitStrategySelector,w=r.ssrContainerDimensions,j="cover";if("contain"===c||"cover"===c)j=c;else if("calculated"===c){var O=this.containerNode.current;!O&&w&&(O=w),O&&e&&"function"==typeof y&&(j=y(e.width,e.height,O.clientWidth,O.clientHeight))}var x,_,S,k={className:Object(o.a)(l.a.default,(x={},_=l.a.findResponsiveImage,S=Object(i.featureIsEnabled)("media_find_responsive_image"),_ in x?Object.defineProperty(x,_,{value:S,enumerable:!0,configurable:!0,writable:!0}):x[_]=S,x)),style:{height:u,width:d,padding:p,borderRadius:h,transform:g,opacity:m,backgroundImage:t,backgroundColor:b,backgroundSize:j}};return this.state.drawable||this.props.notLazy?n.createElement("div",f({ref:this.containerNode},k),s):n.createElement(a.HasBeenVisible,{node:this.containerNode,threshold:v,onVisible:this.drawable},n.createElement("div",f({ref:this.containerNode},k),s))}}]),t}();b.defaultProps={padding:void 0,borderRadius:void 0,threshold:200,fitStrategy:"cover",customFitStrategySelector:function(e,t,r,n){if(0===n||0===r||0===t||0===e)return"cover";var o=e/t,i=r/n;if(0===o||0===i)return"cover";var a=o<i,s=a?o/i:i/o;if(s>.75)return"cover";var c=s/.75;return a?100*c+"% auto":"auto "+100*c+"%"}};var y=b,w=Object.assign||function(e){for(var t=1;t<arguments.length;t++){var r=arguments[t];for(var n in r)Object.prototype.hasOwnProperty.call(r,n)&&(e[n]=r[n])}return e},j=function(){function e(e,t){for(var r=0;r<t.length;r++){var n=t[r];n.enumerable=n.enumerable||!1,n.configurable=!0,"value"in n&&(n.writable=!0),Object.defineProperty(e,n.key,n)}}return function(t,r,n){return r&&e(t.prototype,r),n&&e(t,n),t}}();function O(e,t){if(!e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return!t||"object"!=typeof t&&"function"!=typeof t?e:t}var x=function(e){function t(){var e,r,n;!function(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}(this,t);for(var o=arguments.length,i=Array(o),a=0;a<o;a++)i[a]=arguments[a];return r=n=O(this,(e=t.__proto__||Object.getPrototypeOf(t)).call.apply(e,[this].concat(i))),n.state={seen:!1},n.seen=function(){n.setState({seen:!0})},O(n,r)}return function(e,t){if("function"!=typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function, not "+typeof t);e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,enumerable:!1,writable:!0,configurable:!0}}),t&&(Object.setPrototypeOf?Object.setPrototypeOf(e,t):e.__proto__=t)}(t,n["Component"]),j(t,[{key:"render",value:function(){var e=this,t=w({},this.props);return delete t.loadingElement,this.state.seen||(void 0!==t.src&&delete t.src,void 0!==t.srcSet&&delete t.srcSet),delete t.threshold,this.state.seen?n.createElement("img",t):n.createElement(a.HasBeenVisible,{threshold:this.props.threshold,onVisible:this.seen},function(r){return e.props.loadingElement?e.props.loadingElement(r):n.createElement("img",w({ref:r},t))})}}]),t}();x.defaultProps={srcSet:void 0,sizes:void 0,className:void 0,onLoad:void 0,threshold:200};var _=x;r.d(t,"ResponsiveImage",function(){return y}),r.d(t,"pickSourceForSize",function(){return g}),r.d(t,"LazyImage",function(){return _})},"dll-reference @ta/common.global":function(t,r){t.exports=e}})});